"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,i){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e=e||self).FilePondPluginFileValidateSize=i()}(void 0,function(){var e=function(e){var i=e.addFilter,l=e.utils,n=l.Type,t=l.replaceInString,E=l.toNaturalFileSize;return i("ALLOW_HOPPER_ITEM",function(e,i){var l=i.query;if(!l("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var n=l("GET_MAX_FILE_SIZE");if(null!==n&&e.size>=n)return!1;var t=l("GET_MIN_FILE_SIZE");return!(null!==t&&e.size<=t)}),i("LOAD_FILE",function(e,i){var l=i.query;return new Promise(function(i,n){if(!l("GET_ALLOW_FILE_SIZE_VALIDATION"))return i(e);var o=l("GET_FILE_VALIDATE_SIZE_FILTER");if(o&&!o(e))return i(e);var _=l("GET_MAX_FILE_SIZE");if(null!==_&&e.size>=_)n({status:{main:l("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:t(l("GET_LABEL_MAX_FILE_SIZE"),{filesize:E(_)})}});else{var u=l("GET_MIN_FILE_SIZE");if(null!==u&&e.size<=u)n({status:{main:l("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:t(l("GET_LABEL_MIN_FILE_SIZE"),{filesize:E(u)})}});else{var r=l("GET_MAX_TOTAL_FILE_SIZE");if(null!==r)if(l("GET_ACTIVE_ITEMS").reduce(function(e,i){return e+i.fileSize},0)>r)return void n({status:{main:l("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:t(l("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:E(r)})}});i(e)}}})}),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});